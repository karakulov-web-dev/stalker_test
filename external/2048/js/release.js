/*! 2048: v1.0.0 (webpack: v1.12.2) */
!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var n=i(14),o=i(4);n.data.windowId=stbWebWindow.windowId(),n.data.isPortal=1===n.data.windowId,i(7),n.addListeners({load:function(){window.parent.postMessage("show","*"),o.init([i(12),i(13)])},done:function(){setTimeout(function(){o.navigate("pageMain")},300)}})},function(t,e,i){"use strict";function n(t){var e,i=this;if(t=t||{},this.visible=!0,this.focusable=!0,this.$node=null,this.$body=null,this.parent=null,this.children=[],this.propagate=!!t.propagate,o.call(this,t.data),this.$node=t.$node||document.createElement("div"),this.$body=t.$body||this.$node,this.$node.className+=" component "+(t.className||""),this.id=t.id||this.$node.id||"cid"+a++,t.parent&&t.parent.add(this),t.visible===!1&&this.hide(),t.focusable===!1&&(this.focusable=!1),this.defaultEvents){t.events=t.events||{};for(e in this.defaultEvents)t.events[e]=t.events[e]||this.defaultEvents[e]}t.events&&this.addListeners(t.events),t.children&&this.add.apply(this,t.children),this.$node.addEventListener("click",function(t){0===t.button&&(i.focus(),i.events.click&&i.emit("click",{event:t})),t.stopPropagation()})}var o=i(2),s=i(4),a=0;n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.defaultEvents=null,n.prototype.add=function(t){var e;for(e=0;e<arguments.length;e++)t=arguments[e],this.children.push(t),t.parent=this,t.$node&&null===t.$node.parentNode&&this.$body.appendChild(t.$node),this.events.add&&this.emit("add",{item:t})},n.prototype.remove=function(){this.parent&&(s.current.activeComponent===this&&(this.blur(),this.parent.focus()),this.parent.children.splice(this.parent.children.indexOf(this),1)),this.children.forEach(function(t){t.remove()}),this.removeAllListeners(),this.$node.parentNode.removeChild(this.$node),this.events.remove&&this.emit("remove")},n.prototype.focus=function(t){var e=s.current,i=e.activeComponent;return this.focusable&&this!==i?(i&&i.blur(),e.activeComponent=i=this,i.$node.classList.add("focus"),i.events.focus&&i.emit("focus",t),!0):!1},n.prototype.blur=function(){var t=s.current,e=t.activeComponent;return this.$node.classList.remove("focus"),this===e?(t.activeComponent=null,this.events.blur&&this.emit("blur"),!0):!1},n.prototype.show=function(t){return this.visible?!0:(this.$node.classList.remove("hidden"),this.visible=!0,this.events.show&&this.emit("show",t),!0)},n.prototype.hide=function(){return this.visible?(this.$node.classList.add("hidden"),this.visible=!1,this.events.hide&&this.emit("hide"),!0):!0},t.exports=n},function(t,e,i){"use strict";function n(){this.events={}}n.prototype={addListener:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},once:function(t,e){var i=this;this.events[t]=this.events[t]||[],this.events[t].push(function n(o){e(o),i.removeListener(t,n)})},addListeners:function(t){var e;if("object"==typeof t)for(e in t)t.hasOwnProperty(e)&&this.addListener(e,t[e])},removeListener:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t!==e}),0===this.events[t].length&&(this.events[t]=void 0))},removeAllListeners:function(t){0===arguments.length?this.events={}:t&&(this.events[t]=void 0)},emit:function(t,e){var i,n=this.events[t];if(n)for(i=0;i<n.length;i++)n[i].call(this,e)}},n.prototype.constructor=n,t.exports=n},function(t,e,i){"use strict";t.exports={back:8,"delete":46,channelPrev:1009,channelNext:9,ok:13,exit:27,up:38,down:40,left:37,right:39,pageUp:33,pageDown:34,end:35,home:36,volumeUp:107,volumeDown:109,f1:112,f2:113,f3:114,f4:115,refresh:116,frame:117,phone:119,set:120,tv:121,menu:122,web:123,mic:2032,rewind:2066,forward:2070,app:2076,usbMounted:2080,usbUnmounted:2081,playPause:2082,stop:2083,power:2085,record:2087,info:2089,mute:2192,clock:2032,audio:2071,keyboard:2076}},function(t,e,i){"use strict";var n,o=i(2);n=new o,n.current=null,n.history=[],n.pages=[],n.ids={},n.init=function(t){var e,i,n;if(t){for(this.pages=[],this.pages=t,e=0,i=t.length;i>e;e++)n=t[e],this.ids[n.id]=n,n.active&&(this.current=n);return this.events.init&&this.emit("init",{pages:t}),!0}return!1},n.parse=function(t){var e={name:"",data:[]};return e.data=t.split("/").map(decodeURIComponent),e.name=e.data.shift().slice(1),e},n.stringify=function(t,e){return e=Array.isArray(e)?e:[],t=encodeURIComponent(t),e=e.map(encodeURIComponent),e.unshift(t),e.join("/")},n.show=function(t,e){return t&&!t.active?(t.$node.classList.add("active"),t.active=!0,this.current=t,t.events.show&&t.emit("show",{page:t,data:e}),!0):!1},n.hide=function(t){return t&&t.active?(t.$node.classList.remove("active"),t.active=!1,this.current=null,t.events.hide&&t.emit("hide",{page:t}),!0):!1},n.navigate=function(t,e){var i=this.current,n=this.ids[t];return n&&!n.active?(location.hash=this.stringify(t,e),this.hide(this.current),this.show(n,e),this.events.navigate&&this.emit("navigate",{from:i,to:n}),this.history.push(n),!0):!1},n.back=function(){var t,e;return this.history.length>1&&(t=this.history.pop(),e=this.history[this.history.length-1],e&&!e.active)?(location.hash=e.id,this.hide(this.current),this.show(e),this.events.navigate&&this.emit("navigate",{from:t,to:e}),!0):!1},t.exports=n},function(t,e){"use strict";function i(t,e){this.x=t.x,this.y=t.y,this.value=e||2,this.previousPosition=null,this.mergedFrom=null}i.prototype.savePosition=function(){this.previousPosition={x:this.x,y:this.y}},i.prototype.updatePosition=function(t){this.x=t.x,this.y=t.y},i.prototype.serialize=function(){return{position:{x:this.x,y:this.y},value:this.value}},t.exports=i},function(t,e,i){"use strict";function n(t){t=t||{},this.active=!1,this.activeComponent=null,t.className="page "+(t.className||""),o.call(this,t),this.active=this.$node.classList.contains("active"),null===this.$node.parentNode&&document.body.appendChild(this.$node),this.page=this}var o=i(1);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,t.exports=n},function(t,e){"use strict";!function(){var t,e=0,i=["webkit","moz"];for(t=0;t<i.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[i[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[t]+"CancelAnimationFrame"]||window[i[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var i,n=(new Date).getTime(),o=Math.max(0,16-(n-e));return i=window.setTimeout(function(){t(n+o)},o),e=n+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},function(t,e,i){"use strict";function n(t,e,i){this.size=t,this.storageManager=new i,this.actuator=new e,this.startTiles=2,this.setup()}var o=i(9),s=i(5);n.prototype.restart=function(){this.storageManager.clearGameState(),this.actuator.continueGame(),this.setup()},n.prototype._keepPlaying=function(){this.keepPlaying=!0,this.actuator.continueGame()},n.prototype.isGameTerminated=function(){return this.over||this.won&&!this.keepPlaying},n.prototype.setup=function(){var t=this.storageManager.getGameState();t?(this.grid=new o(t.grid.size,t.grid.cells),this.score=t.score,this.over=t.over,this.won=t.won,this.keepPlaying=t.keepPlaying):(this.grid=new o(this.size),this.score=0,this.over=!1,this.won=!1,this.keepPlaying=!1,this.addStartTiles()),this.actuate()},n.prototype.addStartTiles=function(){var t;for(t=0;t<this.startTiles;t++)this.addRandomTile()},n.prototype.addRandomTile=function(){var t,e;this.grid.cellsAvailable()&&(t=Math.random()<.9?2:4,e=new s(this.grid.randomAvailableCell(),t),this.grid.insertTile(e))},n.prototype.actuate=function(){this.storageManager.getBestScore()<this.score&&this.storageManager.setBestScore(this.score),this.over?this.storageManager.clearGameState():this.storageManager.setGameState(this.serialize()),this.actuator.actuate(this.grid,{score:this.score,over:this.over,won:this.won,bestScore:this.storageManager.getBestScore(),terminated:this.isGameTerminated()})},n.prototype.serialize=function(){return{grid:this.grid.serialize(),score:this.score,over:this.over,won:this.won,keepPlaying:this.keepPlaying}},n.prototype.prepareTiles=function(){this.grid.eachCell(function(t,e,i){i&&(i.mergedFrom=null,i.savePosition())})},n.prototype.moveTile=function(t,e){this.grid.cells[t.x][t.y]=null,this.grid.cells[e.x][e.y]=t,t.updatePosition(e)},n.prototype.move=function(t){var e,i,n,o,a,r=this,c={38:0,39:1,40:2,37:3};t=c[t],this.isGameTerminated()||(n=this.getVector(t),o=this.buildTraversals(n),a=!1,this.prepareTiles(),o.x.forEach(function(t){o.y.forEach(function(o){var c,l,h;e={x:t,y:o},i=r.grid.cellContent(e),i&&(l=r.findFarthestPosition(e,n),h=r.grid.cellContent(l.next),h&&h.value===i.value&&!h.mergedFrom?(c=new s(l.next,2*i.value),c.mergedFrom=[i,h],r.grid.insertTile(c),r.grid.removeTile(i),i.updatePosition(l.next),r.score+=c.value,2048===c.value&&(r.won=!0)):r.moveTile(i,l.farthest),r.positionsEqual(e,i)||(a=!0))})}),a&&(this.addRandomTile(),this.movesAvailable()||(this.over=!0),this.actuate()))},n.prototype.getVector=function(t){var e={0:{x:0,y:-1},1:{x:1,y:0},2:{x:0,y:1},3:{x:-1,y:0}};return e[t]},n.prototype.buildTraversals=function(t){var e,i={x:[],y:[]};for(e=0;e<this.size;e++)i.x.push(e),i.y.push(e);return 1===t.x&&(i.x=i.x.reverse()),1===t.y&&(i.y=i.y.reverse()),i},n.prototype.findFarthestPosition=function(t,e){var i;do i=t,t={x:i.x+e.x,y:i.y+e.y};while(this.grid.withinBounds(t)&&this.grid.cellAvailable(t));return{farthest:i,next:t}},n.prototype.movesAvailable=function(){return this.grid.cellsAvailable()||this.tileMatchesAvailable()},n.prototype.tileMatchesAvailable=function(){var t,e,i,n,o,s,a,r=this;for(e=0;e<this.size;e++)for(i=0;i<this.size;i++)if(t=this.grid.cellContent({x:e,y:i}))for(s=0;4>s;s++)if(a=r.getVector(s),n={x:e+a.x,y:i+a.y},o=r.grid.cellContent(n),o&&o.value===t.value)return!0;return!1},n.prototype.positionsEqual=function(t,e){return t.x===e.x&&t.y===e.y},t.exports=n},function(t,e,i){"use strict";function n(t,e){this.size=t,this.cells=e?this.fromState(e):this.empty()}var o=i(5);n.prototype.empty=function(){for(var t=[],e=0;e<this.size;e++)for(var i=t[e]=[],n=0;n<this.size;n++)i.push(null);return t},n.prototype.fromState=function(t){for(var e=[],i=0;i<this.size;i++)for(var n=e[i]=[],s=0;s<this.size;s++){var a=t[i][s];n.push(a?new o(a.position,a.value):null)}return e},n.prototype.randomAvailableCell=function(){var t=this.availableCells();return t.length?t[Math.floor(Math.random()*t.length)]:void 0},n.prototype.availableCells=function(){var t=[];return this.eachCell(function(e,i,n){n||t.push({x:e,y:i})}),t},n.prototype.eachCell=function(t){for(var e=0;e<this.size;e++)for(var i=0;i<this.size;i++)t(e,i,this.cells[e][i])},n.prototype.cellsAvailable=function(){return!!this.availableCells().length},n.prototype.cellAvailable=function(t){return!this.cellOccupied(t)},n.prototype.cellOccupied=function(t){return!!this.cellContent(t)},n.prototype.cellContent=function(t){return this.withinBounds(t)?this.cells[t.x][t.y]:null},n.prototype.insertTile=function(t){this.cells[t.x][t.y]=t},n.prototype.removeTile=function(t){this.cells[t.x][t.y]=null},n.prototype.withinBounds=function(t){return t.x>=0&&t.x<this.size&&t.y>=0&&t.y<this.size},n.prototype.serialize=function(){for(var t=[],e=0;e<this.size;e++)for(var i=t[e]=[],n=0;n<this.size;n++)i.push(this.cells[e][n]?this.cells[e][n].serialize():null);return{size:this.size,cells:t}},t.exports=n},function(t,e,i){"use strict";function n(){this.tileContainer=document.getElementById("tile-container"),this.scoreContainer=document.getElementById("score-container"),this.bestContainer=document.getElementById("best-container"),this.score=0,o.call(this)}var o=i(2);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.actuate=function(t,e){var i=this;window.requestAnimationFrame(function(){i.clearContainer(i.tileContainer),t.cells.forEach(function(t){t.forEach(function(t){t&&i.addTile(t)})}),i.updateScore(e.score),i.updateBestScore(e.bestScore),e.terminated&&(e.over?i.emit("lose"):e.won&&i.emit("win"))})},n.prototype.continueGame=function(){this.clearMessage()},n.prototype.clearContainer=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},n.prototype.addTile=function(t){var e=this,i=document.createElement("div"),n=document.createElement("div"),o=t.previousPosition||{x:t.x,y:t.y},s=this.positionClass(o),a=["tile","tile-"+t.value,s];t.value>2048&&a.push("tile-super"),this.applyClasses(i,a),n.classList.add("tile-inner"),n.textContent=t.value,t.previousPosition?window.requestAnimationFrame(function(){a[2]=e.positionClass({x:t.x,y:t.y}),e.applyClasses(i,a)}):t.mergedFrom?(a.push("tile-merged"),this.applyClasses(i,a),t.mergedFrom.forEach(function(t){e.addTile(t)})):(a.push("tile-new"),this.applyClasses(i,a)),i.appendChild(n),this.tileContainer.appendChild(i)},n.prototype.applyClasses=function(t,e){t.setAttribute("class",e.join(" "))},n.prototype.normalizePosition=function(t){return{x:t.x+1,y:t.y+1}},n.prototype.positionClass=function(t){return t=this.normalizePosition(t),"tile-position-"+t.x+"-"+t.y},n.prototype.updateScore=function(t){this.clearContainer(this.scoreContainer),this.score=t,this.scoreContainer.textContent=this.score},n.prototype.updateBestScore=function(t){this.bestContainer.textContent=t},n.prototype.message=function(t){var e=t?"game-won":"game-over",i=t?"You win!":"Game over!";this.messageContainer.classList.add(e),this.messageContainer.getElementsByTagName("p")[0].textContent=i},n.prototype.clearMessage=function(){},t.exports=n},function(t,e,i){"use strict";function n(){this.bestScoreKey="bestScore",this.gameStateKey="gameState",this.real=this.localStorageSupported(),this.storage=this.real?window.localStorage:window.fakeStorage}var o=i(20);window.fakeStorage={_data:{},setItem:function(t,e){return this._data[t]=String(e)},getItem:function(t){return this._data.hasOwnProperty(t)?this._data[t]:void 0},removeItem:function(t){return delete this._data[t]},clear:function(){return this._data={}}},n.prototype.localStorageSupported=function(){var t="test",e=window.localStorage;try{return e.setItem(t,"1"),e.removeItem(t),!0}catch(i){return!1}},n.prototype.getBestScore=function(){return this.storage.getItem(this.bestScoreKey)||0},n.prototype.setBestScore=function(t){this.storage.setItem(this.bestScoreKey,t)},n.prototype.getGameState=function(){if(this.real){var t=this.storage.getItem(this.gameStateKey);return t?JSON.parse(t):null}return this._getGameState()},n.prototype.setGameState=function(t){this.storage.setItem(this.gameStateKey,JSON.stringify(t))},n.prototype.clearGameState=function(){this.real?this.storage.removeItem(this.gameStateKey):this._clearGameState()},n.prototype._saveSate=function(t){gSTB.SaveUserData(o.json,JSON.stringify({game:t,best:this.storage.getItem(this.bestScoreKey)}))},n.prototype._clearGameState=function(){gSTB.SaveUserData(o.json,JSON.stringify({best:this.storage.getItem(this.bestScoreKey)}))},n.prototype._getGameState=function(){var t=gSTB.LoadUserData(o.json);try{t=JSON.parse(t),t&&t.best&&this.setBestScore(t.best),t=t&&t.game?t.game:null}catch(e){t=null}return t},t.exports=n},function(t,e,i){"use strict";var n="pageInit",o=i(6),s=new o({$node:document.getElementById(n)});t.exports=s},function(t,e,i){"use strict";function n(t){switch(b.last&&b.last.classList.remove("click"),clearTimeout(b.timer),t){case l.left:b.last=b.$left;break;case l.right:b.last=b.$right;break;case l.up:b.last=b.$top;break;case l.down:b.last=b.$bot}b.last.classList.add("click"),b.timer=setTimeout(function(){b.last.classList.remove("click")},100)}function o(){var t,e,i,n=window.location.href,o={};if(n.indexOf("?")>=0){for(e=n.split("#")[0].split("?")[1].split("&"),t=0;t<e.length;t++)i=e[t].split("="),o[i[0]]=i[1];o.referrer?window.location=decodeURIComponent(o.referrer):window.location="file:///home/web/services.html"}else document.referrer&&document.referrer.length>4?n.split("#")[0]===document.referrer?window.location="file:///home/web/services.html":window.location=document.referrer:window.location="file:///home/web/services.html"}var s,a="pageMain",r=i(6),c=new r({$node:document.getElementById(a)}),l=i(3),h=i(19),d=i(17),u=i(18),p=i(8),v=i(10),f=i(11),m=new h({$node:document.getElementById("game"),focusable:!0}),w=new u({className:"gameModal",visible:!1,children:[new h({focusable:!1,className:"modalTitle"}),new d({value:"Exit",events:{keydown:function(t){switch(d.prototype.defaultEvents.keydown.call(this,t),t.code){case l.right:w.children[2].focus();break;case l.exit:case l.back:w.hide()}},click:o}}),new d({value:"Continue",events:{keydown:function(t){switch(d.prototype.defaultEvents.keydown.call(this,t),t.code){case l.left:w.children[1].focus();break;case l.exit:case l.back:w.hide()}},click:function(){w.hide()}}})],events:{hide:function(){m.focus()},show:function(){this.children[2].focus()}}}),y=new u({visible:!1,className:"gameModal",events:{show:function(){this.children[1].focus()},hide:function(){m.focus()}},children:[new h({className:"modalTitle"}),new d({value:"Restart",events:{keydown:function(t){switch(d.prototype.defaultEvents.keydown.call(this,t),t.code){case l.right:y.children[2].focus();break;case l.exit:case l.back:y.hide(),s.restart()}},click:function(){y.hide(),s.restart()}}}),new d({value:"exit",events:{keydown:function(t){switch(d.prototype.defaultEvents.keydown.call(this,t),t.code){case l.left:y.children[1].focus();break;case l.exit:case l.back:y.hide(),s.restart()}},click:o}})]}),g=new u({visible:!1,className:"gameModal",events:{show:function(){g.children[1].focus()},hide:function(){m.focus()}},children:[new h({className:"modalTitle"}),new d({value:"Continue",events:{keydown:function(t){switch(d.prototype.defaultEvents.keydown.call(this,t),t.code){case l.right:g.children[2].focus();break;case l.exit:case l.back:g.hide(),s._keepPlaying()}},click:function(){g.hide(),s._keepPlaying()}}}),new d({value:"Restart",events:{keydown:function(t){switch(d.prototype.defaultEvents.keydown.call(this,t),t.code){case l.left:g.children[1].focus();break;case l.exit:case l.back:g.hide(),s._keepPlaying()}},click:function(){g.hide(),s.restart()}}})]}),b={$left:document.getElementById("leftKey"),$right:document.getElementById("rightKey"),$top:document.getElementById("topKey"),$bot:document.getElementById("botKey"),last:null,timer:0};c.add(w),c.add(y),c.add(g),w.children[0].$node.innerText="Are you sure you want to exit?",y.children[0].$node.innerText="Game over! :(",g.children[0].$node.innerText="You win :)",c.addListener("show",function(){window.game=s=new p(4,v,f),m.focus(),s.actuator.addListeners({lose:function(){y.show()},win:function(){g.show()}})}),m.addListener("keydown",function(t){switch(t.code){case l.down:case l.up:case l.left:case l.right:s.move(t.code),n(t.code);break;case l.f2:s.restart();break;case l.exit:window.parent===window?w.show():window.parent.postMessage("hide","*")}}),c.addListener("unload",function(){s.storageManager._saveSate(s.serialize())}),t.exports=c},function(t,e,i){"use strict";var n,o,s=i(15),a=i(4),r=i(3),c={};i(16),window.parent&&window.parent.gSTB&&(window.dvbManager=window.parent.dvbManager,window.epgManager=window.parent.epgManager,window.gSTB=window.parent.gSTB,window.pvrManager=window.parent.pvrManager,window.stbDownloadManager=window.parent.stbDownloadManager,window.stbStorage=window.parent.stbStorage,window.stbUpdate=window.parent.stbUpdate,window.stbUPnP=window.parent.stbUPnP,window.stbWebWindow=window.parent.stbWebWindow,window.stbWindowMgr=window.parent.stbWindowMgr,window.timeShift=window.parent.timeShift),n=new s({debug:!1,host:!0,screen:null,time:{init:+new Date,load:0,done:0}}),n.setScreen=function(t){var e;return t?(t.availHeight=t.height-(t.availTop+t.availBottom),t.availWidth=t.width-(t.availLeft+t.availRight),window.moveTo(0,0),window.resizeTo(t.width,t.height),e=document.querySelector("link[rel=stylesheet]"),e&&e instanceof HTMLLinkElement&&document.head.removeChild(e),e=document.createElement("link"),e.rel="stylesheet",e.href="css/release."+t.height+".css?"+ +new Date,document.head.appendChild(e),this.data.metrics=t,!0):!1},n.EVENT_END_OF_FILE=1,n.EVENT_GET_MEDIA_INFO=2,n.EVENT_PLAYBACK_BEGIN=4,n.EVENT_CONTENT_ERROR=5,n.EVENT_DUAL_MONO_DETECT=6,n.EVENT_INFO_GET=7,n.EVENT_SUBTITLE_LOAD_ERROR=8,n.EVENT_SUBTITLE_FIND=9,n.EVENT_HDMI_CONNECT=32,n.EVENT_HDMI_DISCONNECT=33,n.EVENT_RECORD_FINISH_SUCCESSFULL=34,n.EVENT_RECORD_FINISH_ERROR=35,n.EVENT_DVB_SCANING=40,n.EVENT_DVB_FOUND=41,n.EVENT_DVB_CHANELL_EPG_UPDATE=42,n.EVENT_DVB_ANTENNA_OFF=43,n.setScreen(i(21)[screen.height]);for(o in r)"volumeUp"!==o&&"volumeDown"!==o&&(c[r[o]]=!0);n.defaultEvents={load:function(t){n.data.time.load=t.timeStamp,n.events[t.type]&&n.emit(t.type,t),a.pages.forEach(function(e){e.events[t.type]&&e.emit(t.type,t)}),n.data.time.done=+new Date,n.events.done&&n.emit("done",t)},unload:function(t){n.events[t.type]&&n.emit(t.type,t),a.pages.forEach(function(e){e.events[t.type]&&e.emit(t.type,t)})},error:function(t){},keydown:function(t){var e,i=a.current;0!==t.keyCode&&(t.code=t.keyCode,t.shiftKey&&(t.code+=1e3),t.altKey&&(t.code+=2e3),e=i.activeComponent,e&&e!==i&&(e.events[t.type]&&e.emit(t.type,t),!t.stop&&e.propagate&&e.parent&&e.parent.events[t.type]&&e.parent.emit(t.type,t)),t.stop||(i.events[t.type]&&i.emit(t.type,t),t.stop||n.events[t.type]&&n.emit(t.type,t)),n.data.host&&c[t.code]&&t.preventDefault())},keypress:function(t){var e=a.current;e.activeComponent&&e.activeComponent!==e&&e.activeComponent.events[t.type]&&e.activeComponent.emit(t.type,t)},click:function(t){},contextmenu:function(t){t.preventDefault()},mousewheel:function(t){var e=a.current;e.activeComponent&&e.activeComponent!==e&&e.activeComponent.events[t.type]&&e.activeComponent.emit(t.type,t),t.stop||e.events[t.type]&&e.emit(t.type,t)}};for(o in n.defaultEvents)window.addEventListener(o,n.defaultEvents[o]);window.stbEvent={},window.stbEvent.onEvent=function(t,e){if(Array.prototype.forEach.call(window.frames,function(i){i.stbEvent&&i.stbEvent.onEvent&&i.stbEvent.onEvent(t,e)}),n.events.media){if(e)try{e=JSON.parse(e)}catch(i){}n.emit("media",{code:parseInt(t,10),info:e})}},window.stbEvent.onBroadcastMessage=function(t,e,i){Array.prototype.forEach.call(window.frames,function(n){n.stbEvent&&n.stbEvent.onBroadcastMessage&&n.stbEvent.onBroadcastMessage(t,e,i)}),n.events.message&&n.emit("message",{broadcast:!0,windowId:t,message:e,data:i})},window.stbEvent.onMessage=function(t,e,i){Array.prototype.forEach.call(window.frames,function(n){n.stbEvent&&n.stbEvent.onMessage&&n.stbEvent.onMessage(t,e,i)}),n.events.message&&n.emit("message",{broadcast:!1,windowId:t,message:e,data:i})},window.stbEvent.onMount=function(t){Array.prototype.forEach.call(window.frames,function(e){e.stbEvent&&e.stbEvent.onMount&&e.stbEvent.onMount(t)}),n.events["device:mount"]&&n.emit("device:mount",{state:t})},window.stbEvent.onMediaAvailable=function(t,e){Array.prototype.forEach.call(window.frames,function(i){i.stbEvent&&i.stbEvent.onMediaAvailable&&i.stbEvent.onMediaAvailable(t,e)}),n.events["media:available"]&&n.emit("media:available",{mime:t,url:e})},window.stbEvent.onNetworkStateChange=function(t){n.events["internet:state"]&&n.emit("internet:state",{state:t})},window.stbEvent.onWebBrowserProgress=function(t){Array.prototype.forEach.call(window.frames,function(e){e.stbEvent&&e.stbEvent.onWebBrowserProgress&&e.stbEvent.onWebBrowserProgress(t)}),n.events["browser:progress"]&&n.emit("browser:progress",{progress:t})},window.stbEvent.onWindowActivated=function(){Array.prototype.forEach.call(window.frames,function(t){t.stbEvent&&t.stbEvent.onWindowActivated&&t.stbEvent.onWindowActivated()}),n.events["window:focus"]&&n.emit("window:focus")},window.gSTB&&gSTB.SetNativeStringMode&&gSTB.SetNativeStringMode(!0),t.exports=n},function(t,e,i){"use strict";function n(t){o.call(this),this.data=t||{}}var o=i(2);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.idName="id",n.prototype.clear=function(){var t=this.data;return Object.keys(t).length>0?(this.data={},this.events.clear&&this.emit("clear",{data:t}),!0):!1},n.prototype.init=function(t){return t?(this.clear(),this.data=t,this.events.init&&this.emit("init",{data:t}),!0):!1},n.prototype.has=function(t){return this.data.hasOwnProperty(t)},n.prototype.get=function(t){return this.data[t]},n.prototype.set=function(t,e){var i=t in this.data,n={name:t,curr:e};return i?(n.prev=this.data[t],e!==n.prev?(this.data[t]=e,this.events.change&&this.emit("change",n),!0):!1):(this.data[t]=e,this.events.change&&this.emit("change",n),!0)},n.prototype.unset=function(t){var e,i=t in this.data;return i?(e={name:t,prev:this.data[t]},delete this.data[t],this.events.change&&this.emit("change",e),!0):!1},t.exports=n},function(t,e){"use strict";if(!("classList"in document.documentElement)){var i=Array.prototype,n=i.indexOf,o=i.slice,s=i.push,a=i.splice,r=i.join;window.DOMTokenList=function(t){if(this._element=t,t.className!==this._classCache){if(this._classCache=t.className,!this._classCache)return;var e,i=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(e=0;e<i.length;e++)s.call(this,i[e])}},window.DOMTokenList.prototype={add:function(t){this.contains(t)||(s.call(this,t),this._element.className=o.call(this,0).join(" "))},contains:function(t){return-1!==n.call(this,t)},item:function(t){return this[t]||null},remove:function(t){var e=n.call(this,t);-1!==e&&(a.call(this,e,1),this._element.className=o.call(this,0).join(" "))},toString:function(){return r.call(this," ")},toggle:function(t){return this.contains(t)?this.remove(t):this.add(t),this.contains(t)}},Object.defineProperty(Element.prototype,"classList",{get:function(){return new window.DOMTokenList(this)}})}},function(t,e,i){"use strict";function n(t){t=t||{},t.className="button "+(t.className||""),o.call(this,t),t.icon&&(this.$icon=this.$body.appendChild(document.createElement("div")),this.$icon.className="icon "+t.icon),this.$text=this.$body.appendChild(document.createElement("div")),this.$text.classList.add("text"),t.value&&(this.$text.innerText=t.value)}var o=i(1),s=i(3);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.clickDuration=200,n.prototype.defaultEvents={click:function(){var t=this;this.$node.classList.add("click"),setTimeout(function(){t.$node.classList.remove("click")},this.clickDuration)},keydown:function(t){t.code===s.ok&&this.events.click&&this.emit("click",{event:t})}},t.exports=n},function(t,e,i){"use strict";function n(t){t=t||{},t.className="modalBox "+(t.className||""),t.$body=document.createElement("div"),t.$body.className="body",o.call(this,t),this.$node.appendChild(document.createElement("div").appendChild(this.$body).parentNode)}var o=i(1);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,t.exports=n},function(t,e,i){"use strict";function n(t){t=t||{},t.focusable=t.focusable||!1,t.className="panel "+(t.className||""),o.call(this,t)}var o=i(1);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,t.exports=n},function(t,e){"use strict";t.exports={json:"2048.json"}},function(t,e){"use strict";t.exports={480:{height:480,width:720,availTop:24,availBottom:24,availRight:32,availLeft:48},576:{height:576,width:720,availTop:24,availBottom:24,availRight:26,availLeft:54},720:{height:720,width:1280,availTop:30,availBottom:30,availRight:40,availLeft:40},1080:{height:1080,width:1920,availTop:45,availBottom:45,availRight:60,availLeft:60}}}]);